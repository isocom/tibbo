<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Expires" CONTENT="Tue, 01 Jan 1980 1:00:00 GMT">
<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
<script type="text/javascript">
function HomePage()
{
	window.top.location.replace("main.html")
}
</script>
</HEAD>

<body onload='
  <?
    include "global.tbh"
    include "../../lib/common/html.tbh"
    include "../../lib/common/settings.tbh"

	const HTTP_PAR_YES = "Y"
	const HTTP_PAR__NO = "N"

	' SN = SERIAL NUMBER
    dim val as string = htmlGetHttpArgument(sock.httprqstring, "SN=")
    if len(val) = 6 then settingsSet("SN", 0, val)

	' RS = ROTATE SCREEN
    val = htmlGetHttpArgument(sock.httprqstring, "RS=")
    if len(val) = 1 and val = HTTP_PAR_YES then settingsSet("RS", 0, 1)
    if len(val) = 1 and val = HTTP_PAR__NO then settingsSet("RS", 0, 0)

	' SR = SWAP RELAYS
    val = htmlGetHttpArgument(sock.httprqstring, "SR=")
    if len(val) = 1 and val = HTTP_PAR_YES then settingsSet("SR", 0, 1)
    if len(val) = 1 and val = HTTP_PAR__NO then settingsSet("SR", 0, 0)

	' PW = DEVICE PASSWORD
    val = htmlGetHttpArgument(sock.httprqstring, "PW=")
    if len(val) > 0 then settingsSet("PW", 0, val)

	' BP = BPDriver or other UDP server that control device behaviour
    val = htmlGetHttpArgument(sock.httprqstring, "BP=")
    if len(val) > 0 then settingsSet("BP", 0, val)

	' LC = LOCALIZATION
    val = htmlGetHttpArgument(sock.httprqstring, "LC=")
    if len(val) > 0 then settingsSet("LC", 0, val)

    htmlWrite("HomePage()")
  ?>
'>
</body>
</HTML>
